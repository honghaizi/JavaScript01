<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM练习_图片切换</title>
    <style>
      * {
        margin: 0;
        padding: 0;
      }

      #outer {
        width: 500px;
        margin: 90px auto;
        padding: 10px;
        background-color: greenyellow;
        text-align: center;
      }      
    </style>

    <script>
      window.onload = function () {
        /*
          点击按钮切换图片
        */

        //1.获取两个按钮
        var prev = document.getElementById("prev");
        var next = document.getElementById("next");


        /*
          3.切换图片就是要修改img标签的src属性
        */

        //4..获取img标签
        var img = document.getElementsByTagName("img")[0];
        // 返回的是一个数组 所以可以[0]拿到第一个
        // alert(img); // [object HTMLCollection]

        // 6. 创建一个数组保存图片的路径
        var imgArr = ["img/1.jpg", "img/2.jpg", "img/3.jpg", "img/4.jpg", "img/5.jpg"]

        // 7. 创建一个变量来保存当前正在显示的图片的索引
        var index = 0; // 默认显示 第一张

        // 11.获取id为info的p元素
        var info = document.getElementById("info");
        // 12.设置提示文字-设置总共多少张
        // info.innerHTML = "一共 " + imgArr.length + " 张图片，当前第 1 张";
        // 13.设置当前第几张 ()防止和前面拼串
        info.innerHTML = "一共 " + imgArr.length + " 张图片，当前第 " + (index+1) + " 张";

        //2.分别为两个按钮绑定单机响应函数
        prev.onclick = function () {
          // alert("上一张"); 5. 
          // img.src = "img/1.jpg"; // 死方法 5
          // img.src = imgArr[0]; // 死方法 6

          index--; // 7

          //8判断index是否小于0,防止超出报错undefined
          // if(index < 0) {
          //   index = 0;
          // }
          // 10 循环
          if(index < 0) {
            index = imgArr.length -1;
            
          }

          img.src = imgArr[index]; // 7

          // 14.当前点击按钮后，重新设置信息
          info.innerHTML = "一共 " + imgArr.length + " 张图片，当前第 " + (index+1) + " 张";
        }

        next.onclick = function () {
          // alert("下一张");

          //5. 切换图片就是修改img的src属性
          // 要修改一个元素的属性 元素.属性 = 属性值
          // img.src = "img/2.jpg"; // 死方法 5

          // img.src = imgArr[1]; // 死方法 6


          index++; // 7

          //8判断index是否小于0,防止超出报错undefined
          // if(index > 4) {
          //   index = 4;
          // }

          // 9.变量
          // if(index > imgArr.length -1) {
          //   index = imgArr.length -1;
          // }

          //10.循环
          if(index > imgArr.length -1) {
            index = 0;
          }

          img.src = imgArr[index]; //7

          // 14.当前点击按钮后，重新设置信息
          info.innerHTML = "一共 " + imgArr.length + " 张图片，当前第 " + (index+1) + " 张";
        }

        

      }
    </script>
  </head>
  <body>
    <div id="outer">

      <!-- <p>一共 5 张图片，当前第 1 张</p> -->
      <p id="info"> </p>

      <img src="img/1.jpg" alt="冰棍">

      <button id="prev">< 上一张</button>
      <button id="next">下一张 ></button>
    </div>
  </body>
</html>