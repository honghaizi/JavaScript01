<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>变量的作用域理解</title>
  </head>
  <body>
    <script>
      /*
			 * 变量的声明提前
			 * 	- 使用var关键字声明的变量，会在所有的代码执行之前被声明（但是不会赋值），
			 * 		但是如果声明变量时不适用var关键字，则变量不会被声明提前
			 */

      //变量作用域：变量在哪一个范围内可以被使用，这个范围就是变量的作用域
      var name = "zhishan"; //当前是全局
      

      
      // 块级作用域: 在JavaScript(ES5)里面没有块级作用域
      // 1.块是没有自己的作用域
      // {
      //   var age = 18;
      // }
      // console.log(age);



      /*
			 * 函数作用域	
			 * 	- 调用函数时创建函数作用域，函数执行完毕以后，函数作用域销毁
			 * 	- 每调用一次函数就会创建一个新的函数作用域，他们之间是互相独立的
			 * 	- 在函数作用域中可以访问到全局作用域的变量
			 * 		在全局作用域中无法访问到函数作用域的变量,函数作用域: 函数内部的代码是有自己的作用域的
			 * 	- 当在函数作用域操作一个变量时，它会先在自身作用域中寻找，如果有就直接使用
			 * 		如果没有则向上一级作用域中寻找，直到找到全局作用域，
			 * 		如果全局作用域中依然没有找到，则会报错ReferenceError
			 * 	- 在函数中要访问全局变量可以使用window对象
			 */
      function test() {
        // 局部变量
        var age = 20;
        var height = 1.88;
        var name = "kobe";

        console.log(age);
        console.log(height);
        console.log(name);
      }



      /*全局作用域
			 * 	直接编写在script标签中的JS代码，都在全局作用域
			 * 	全局作用域在页面打开时创建，在页面关闭时销毁
       * 	在全局作用域中有一个全局对象window，
       *      window.fun();
       *      window.alert("hello");
			 * 	它代表的是一个浏览器的窗口，它由浏览器创建我们可以直接使用
			 * 	在全局作用域中：
			 * 			创建的变量都会作为window对象的属性保存
			 * 			创建的函数都会作为window对象的方法保存
			 * 			全局作用域中的变量都是全局变量，
			 * 			在页面的任意的部分都可以访问的到			 * 
			 */
      var name = "why";

      // 结论一: 在全局默认是不能访问局部的变量的
      // console.log(age);
      // 结论二: 在函数中, 访问一个变量时, 会优先去查找自己的局部变量, 如果没有找到, 会去查找全局变量.
      test();
    </script>
  </body>
</html>